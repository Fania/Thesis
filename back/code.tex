% !TEX root = ../main.tex

\chapter{Code}
\label{app:code}

setup\\
 text setup\\
 video setup\\
 image setup

Clinamen\\
 algorithm\\
 get results\\
 render results

 etc

\todo{put cross refs for each piece of code here}


\section{Setup}

stopwords:\\
\begin{minted}{python}
  [i, me, my, myself, we, our, ours, ourselves, you, your, yours, yourself, yourselves, he, him, his, himself, she, her, hers, herself, it, its, itself, they, them, their, theirs, themselves, what, which, who, whom, this, that, these, those, am, is, are, was, were, be, been, being, have, has, had, having, do, does, did, doing, a, an, the, and, but, if, or, because, as, until, while, of, at, by, for, with, about, against, between, into, through, during, before, after, above, below, to, from, up, down, in, out, on, off, over, under, again, further, then, once, here, there, when, where, why, how, all, any, both, each, few, more, most, other, some, such, no, nor, not, only, own, same, so, than, too, very, s, t, can, will, just, don, should, now]
\end{minted}

index:\\
\begin{minted}{python}
  defaultdict(<function <lambda> at 0x101d17938>, {u'fawn': defaultdict(<type 'list'>, {u'l_17': [101330, 111976], u'l_19': [345609], u'l_01': [92598, 469332, 469716, 469757, 469830, 469950]}), u'pl\xe4tze': defaultdict(<type 'list'>, {u'l_11': [18287, 35736]}), u'lenitives': defaultdict(<type 'list'>, {u'l_19': [121161]}), u'malheureuses': defaultdict(<type 'list'>, {u'l_06': [18950, 52631, 65053, 65792, 79960, 127861, 176200], u'l_04': [51545, 93611]}), u'\xe9vit\xe2mes': defaultdict(<type 'list'>, {u'l_13': [82999]}), u'nunnery': defaultdict(<type 'list'>, {u'l_19': [38182, 160331]}), u'\xe9difie': defaultdict(<type 'list'>, {u'l_12': [20278]}), u'nuzzing': defaultdict(<type 'list'>, {u'l_19': [147035]}), u'huileux': defaultdict(<type 'list'>, {u'l_04': [69998]}), u'lentuli': defaultdict(<type 'list'>, {u'l_19': [217454]}), u'porphyrogene': defaultdict(<type 'list'>, {u'l_01': [137368, 480308]}), u'woods': defaultdict(<type 'list'>, {u'l_14': [16256], u'l_05': [2890], u'l_17': [11445, 34923, 48413, 59186, 61062, 78084, 78681, 81374, 101319, 137624], u'l_10': [12500, 21691, 33136], u'l_02': [4596, 6221], u'l_01': [63176, 63622, 74535, 74807, 326433, 326464, 326472, 419835, 441374, 467791, 481003, 481113, 500201, 500331, 501595], u'l_27': [60731], u'l_26': [1120, 9622], u'l_19': [149538, 232296, 294503]}), u'clotted': defaultdict(<type 'list'>, {u'l_17': [92418], u'l_01': [53612, 133153, 200952, 241165]}), u'spiders': defaultdict(<type 'list'>, {u'l_19': [285105, 301556], u'l_00': [3085]}), u'hanging': defaultdict(<type 'list'>, {u'l_17': [84239], u'l_10': [35501, 92813, 126657], u'l_02': [6033, 33307, 34297], u'l_01': [10317, 102489, 114549, 134507, 193056, 210178, 251167, 266320, 287765, 311802, 342798, 379707, 417326, 417956, 448394, 469204], u'l_00': [1831, 5490, 6891, 11088, 13846], u'l_27': [19757, 45058, 83470], u'l_26': [6500], u'l_19': [8309, 15850, 17056, 20629, 25899, 47147, 47186, 49544, 108943, 177323, 200639, 252551, 334120, 341621]}), u'woody':
\end{minted}


\section{Damerau Levenshtein}

\begin{minted}{python}
  # http://mwh.geek.nz/2009/04/26/python-damerau-levenshtein-distance/
  # MIT license.
  def dameraulevenshtein(seq1, seq2):
      oneago = None
      thisrow = range(1, len(seq2) + 1) + [0]
      for x in xrange(len(seq1)):
          twoago, oneago, thisrow = oneago, thisrow, [0] * len(seq2) + [x + 1]
          for y in xrange(len(seq2)):
              delcost = oneago[y] + 1
              addcost = thisrow[y - 1] + 1
              subcost = oneago[y - 1] + (seq1[x] != seq2[y])
              thisrow[y] = min(delcost, addcost, subcost)
              if (x > 0 and y > 0 and seq1[x] == seq2[y - 1] and
                 seq1[x - 1] == seq2[y] and seq1[x] != seq2[y]):
                      thisrow[y] = min(thisrow[y], twoago[y - 2] + 1)
      return thisrow[len(seq2) - 1]
\end{minted}


\section{WordNet}

\subsection{Antinomy}


\begin{multicols}{2}
  \begin{lstlisting}
  synsets:
  [Synset('clear.n.01'), Synset('open.n.01'), Synset('unclutter.v.01'), Synset('clear.v.02'), Synset('clear_up.v.04'), Synset('authorize.v.01'), Synset('clear.v.05'), Synset('pass.v.09'), Synset('clear.v.07'), Synset('clear.v.08'), Synset('clear.v.09'), Synset('clear.v.10'), Synset('clear.v.11'), Synset('clear.v.12'), Synset('net.v.02'), Synset('net.v.01'), Synset('gain.v.08'), Synset('clear.v.16'), Synset('clear.v.17'), Synset('acquit.v.01'), Synset('clear.v.19'), Synset('clear.v.20'), Synset('clear.v.21'), Synset('clear.v.22'), Synset('clear.v.23'), Synset('clear.v.24'), Synset('clear.a.01'), Synset('clear.s.02'), Synset('clear.s.03'), Synset('clear.a.04'), Synset('clear.s.05'), Synset('clear.s.06'), Synset('clean.s.03'), Synset('clear.s.08'), Synset('clear.s.09'), Synset('well-defined.a.02'), Synset('clear.a.11'), Synset('clean.s.02'), Synset('clear.s.13'), Synset('clear.s.14'), Synset('clear.s.15'), Synset('absolved.s.01'), Synset('clear.s.17'), Synset('clear.r.01'), Synset('clearly.r.04')]
  synset item:clear.n.01
  synset item:open.n.01
  synset item:unclutter.v.01
  antonym out:clutter
  antonym in:clutter
  synset item:clear.v.02
  synset item:clear_up.v.04
  antonym out:overcast
  antonym in:overcast
  synset item:authorize.v.01
  synset item:clear.v.05
  synset item:pass.v.09
  synset item:clear.v.07
  antonym out:bounce
  antonym in:bounce
  synset item:clear.v.08
  synset item:clear.v.09
  synset item:clear.v.10
  synset item:clear.v.11
  synset item:clear.v.12
  synset item:net.v.02
  synset item:net.v.01
  synset item:gain.v.08
  synset item:clear.v.16
  synset item:clear.v.17
  synset item:acquit.v.01
  antonym out:convict
  antonym in:convict
  synset item:clear.v.19
  synset item:clear.v.20
  synset item:clear.v.21
  synset item:clear.v.22
  synset item:clear.v.23
  synset item:clear.v.24
  synset item:clear.a.01
  antonym out:unclear
  antonym in:unclear
  synset item:clear.s.02
  synset item:clear.s.03
  synset item:clear.a.04
  antonym out:opaque
  antonym in:opaque
  synset item:clear.s.05
  synset item:clear.s.06
  synset item:clean.s.03
  synset item:clear.s.08
  synset item:clear.s.09
  synset item:well-defined.a.02
  antonym out:ill-defined
  antonym in:ill-defined
  synset item:clear.a.11
  antonym out:cloudy
  antonym in:cloudy
  synset item:clean.s.02
  synset item:clear.s.13
  synset item:clear.s.14
  synset item:clear.s.15
  synset item:absolved.s.01
  synset item:clear.s.17
  synset item:clear.r.01
  synset item:clearly.r.04
  \end{lstlisting}
\end{multicols}


\subsection{Syzygy}

\begin{multicols}{2}
  \begin{lstlisting}
  synsets:
  [Synset('clear.n.01'), Synset('open.n.01'), Synset('unclutter.v.01'), Synset('clear.v.02'), Synset('clear_up.v.04'), Synset('authorize.v.01'), Synset('clear.v.05'), Synset('pass.v.09'), Synset('clear.v.07'), Synset('clear.v.08'), Synset('clear.v.09'), Synset('clear.v.10'), Synset('clear.v.11'), Synset('clear.v.12'), Synset('net.v.02'), Synset('net.v.01'), Synset('gain.v.08'), Synset('clear.v.16'), Synset('clear.v.17'), Synset('acquit.v.01'), Synset('clear.v.19'), Synset('clear.v.20'), Synset('clear.v.21'), Synset('clear.v.22'), Synset('clear.v.23'), Synset('clear.v.24'), Synset('clear.a.01'), Synset('clear.s.02'), Synset('clear.s.03'), Synset('clear.a.04'), Synset('clear.s.05'), Synset('clear.s.06'), Synset('clean.s.03'), Synset('clear.s.08'), Synset('clear.s.09'), Synset('well-defined.a.02'), Synset('clear.a.11'), Synset('clean.s.02'), Synset('clear.s.13'), Synset('clear.s.14'), Synset('clear.s.15'), Synset('absolved.s.01'), Synset('clear.s.17'), Synset('clear.r.01'), Synset('clearly.r.04')]
  synset item:clear.n.01
  hypernym out:innocence
  []
  synset item:open.n.01
  hypernym out:area
  hypernym out:country
  hypernym in:country
  []
  synset item:unclutter.v.01
  hypernym out:change
  hypernym in:change
  hypernym out:alter
  hypernym out:modify
  []
  synset item:clear.v.02
  hypernym out:make
  hypernym in:make
  hypernym out:create
  []
  synset item:clear_up.v.04
  []
  synset item:authorize.v.01
  hyponym out:approbate
  hyponym out:approve
  hyponym out:O.K.
  hyponym out:okay
  hyponym out:sanction
  hyponym out:certificate
  hyponym in:certificate
  hyponym out:commission
  hyponym out:declare
  hyponym in:declare
  hyponym out:license
  hyponym out:licence
  hyponym out:certify
  hyponym out:validate
  hyponym out:formalize
  hyponym out:formalise
  hypernym out:permit
  hypernym in:permit
  hypernym out:allow
  hypernym in:allow
  hypernym out:let
  hypernym in:let
  hypernym out:countenance
  hypernym in:countenance
  []
  synset item:clear.v.05
  hyponym out:clear-cut
  hyponym out:deforest
  hyponym out:disforest
  hyponym out:disafforest
  hyponym out:denude
  hyponym out:bare
  hyponym in:bare
  hyponym out:denudate
  hyponym out:strip
  hyponym out:stump
  hypernym out:remove
  hypernym out:take
  hypernym in:take
  hypernym out:take_away
  hypernym out:withdraw
  []
  synset item:pass.v.09
  hyponym out:clear
  hyponym in:clear
  hypernym out:succeed
  hypernym in:succeed
  hypernym out:win
  hypernym out:come_through
  hypernym out:bring_home_the_bacon
  hypernym out:deliver_the_goods
  []
  synset item:clear.v.07
  []
  synset item:clear.v.08
  hypernym out:vanish
  hypernym in:vanish
  hypernym out:disappear
  hypernym out:go_away
  []
  synset item:clear.v.09
  hyponym out:hop
  hypernym out:pass
  hypernym in:pass
  hypernym out:overtake
  hypernym out:overhaul
  []
  synset item:clear.v.10
  hypernym out:clarify
  hypernym out:clear_up
  hypernym out:elucidate
  []
  synset item:clear.v.11
  hypernym out:free
  hypernym in:free
  hypernym out:discharge
  []
  synset item:clear.v.12
  hypernym out:rid
  hypernym out:free
  hypernym in:free
  hypernym out:disembarrass
  []
  synset item:net.v.02
  hypernym out:yield
  hypernym out:pay
  hypernym in:pay
  hypernym out:bear
  []
  synset item:net.v.01
  hypernym out:profit
  hypernym out:gain
  hypernym in:gain
  hypernym out:benefit
  hypernym in:benefit
  []
  synset item:gain.v.08
  hyponym out:eke_out
  hyponym out:squeeze_out
  hyponym out:gross
  hyponym out:profit
  hyponym out:turn_a_profit
  hyponym out:rake_in
  hyponym out:shovel_in
  hyponym out:rake_off
  hyponym out:take_home
  hyponym out:bring_home
  hyponym out:yield
  hyponym out:pay
  hyponym in:pay
  hyponym out:bear
  hypernym out:get
  hypernym out:acquire
  []
  synset item:clear.v.16
  hypernym out:sell
  []
  synset item:clear.v.17
  hypernym out:pass
  hypernym in:pass
  hypernym out:clear
  hypernym in:clear
  []
  synset item:acquit.v.01
  hyponym out:purge
  hyponym out:vindicate
  hyponym out:whitewash
  hypernym out:pronounce
  hypernym in:pronounce
  hypernym out:label
  hypernym out:judge
  hypernym in:judge
  []
  synset item:clear.v.19
  hypernym out:settle
  hypernym out:square_off
  hypernym out:square_up
  hypernym out:determine
  hypernym in:determine
  []
  synset item:clear.v.20
  hypernym out:change
  hypernym in:change
  hypernym out:alter
  hypernym out:modify
  []
  synset item:clear.v.21
  hypernym out:empty
  hypernym in:empty
  []
  synset item:clear.v.22
  hypernym out:take_out
  hypernym out:move_out
  hypernym out:remove
  []
  synset item:clear.v.23
  hypernym out:empty
  hypernym in:empty
  []
  synset item:clear.v.24
  hypernym out:remove
  hypernym out:take
  hypernym in:take
  hypernym out:take_away
  hypernym out:withdraw
  []
  synset item:clear.a.01
  []
  synset item:clear.s.02
  []
  synset item:clear.s.03
  []
  synset item:clear.a.04
  []
  synset item:clear.s.05
  []
  synset item:clear.s.06
  []
  synset item:clean.s.03
  []
  synset item:clear.s.08
  []
  synset item:clear.s.09
  []
  synset item:well-defined.a.02
  []
  synset item:clear.a.11
  []
  synset item:clean.s.02
  []
  synset item:clear.s.13
  []
  synset item:clear.s.14
  []
  synset item:clear.s.15
  []
  synset item:absolved.s.01
  []
  synset item:clear.s.17
  []
  synset item:clear.r.01
  []
  synset item:clearly.r.04
  []
  \end{lstlisting}
\end{multicols}


\section{Bing API}

Formatted:
\begin{minted}{c}
"d": { "results": [
  { "__metadata":
    { "uri": "https://api.datamarket.azure.com/Data.ashx/Bing/Search/Image?Query=\u0027kittens\u0027&$skip=0&$top=1",
      "type": "ImageResult"
    }, // __metadata
    "ID": "e09072a2-faf3-47ac-b77d-46a8df8941aa",
    "Title": "Cute Kittens - Pictures - The Wondrous Pics",
    "MediaUrl": "http://wondrouspics.com/wp-content/uploads/2011/12/Cute-Kitten2.jpg",
    "SourceUrl": "http://wondrouspics.com/cute-kittens-pictures/",
    "DisplayUrl": "wondrouspics.com/cute-kittens-pictures",
    "Width": "1440",
    "Height": "900",
    "FileSize": "238015",
    "ContentType": "image/jpeg",
    "Thumbnail":
    { "__metadata":
      { "type": "Bing.Thumbnail"
      },
      "MediaUrl": "http://ts2.mm.bing.net/th?id=OIP.M5692e5d79242507e30600fd54639316cH0&pid=15.1",
      "ContentType": "image/jpg",
      "Width": "480",
      "Height": "300",
      "FileSize": "13856"
    } // Tumbnail
  }, ...
  ], // results
  "__next": "https://api.datamarket.azure.com/Data.ashx/Bing/Search/Image?Query=\u0027kittens\u0027&$skip=50"
} // d
\end{minted}

Real:
\begin{minted}{c}
{"d":{"results":[{"__metadata":{"uri":"https://api.datamarket.azure.com/Data.ashx/Bing/Search/Image?Query=\u0027kittens\u0027&$skip=0&$top=1","type":"ImageResult"},"ID":"e09072a2-faf3-47ac-b77d-46a8df8941aa","Title":"Cute Kittens - Pictures - The Wondrous Pics","MediaUrl":"http://wondrouspics.com/wp-content/uploads/2011/12/Cute-Kitten2.jpg","SourceUrl":"http://wondrouspics.com/cute-kittens-pictures/","DisplayUrl":"wondrouspics.com/cute-kittens-pictures","Width":"1440","Height":"900","FileSize":"238015","ContentType":"image/jpeg","Thumbnail":{"__metadata":{"type":"Bing.Thumbnail"},"MediaUrl":"http://ts2.mm.bing.net/th?id=OIP.M5692e5d79242507e30600fd54639316cH0&pid=15.1","ContentType":"image/jpg","Width":"480","Height":"300","FileSize":"13856"}},{"__metadata":{"uri":"https://api.datamarket.azure.com/Data.ashx/Bing/Search/Image?Query=\u0027kittens\u0027&$skip=1&$top=1","type":"ImageResult"},"ID":"16f74e1b-9a64-4e5b-99b1-bc0b7bfe3121","Title":"Silver and red kitten, evo jedne slike s macama","MediaUrl":"http://stuffpoint.com/cats/image/192286-cats-silver-and-red-kitten.jpg","SourceUrl":"http://stuffpoint.com/cats/image/192286/silver-and-red-kitten-picture/","DisplayUrl":"stuffpoint.com/cats/image/192286/silver-and-red-kitten-picture","Width":"1332","Height":"984","FileSize":"133078","ContentType":"image/jpeg","Thumbnail":{"__metadata":{"type":"Bing.Thumbnail"},"MediaUrl":"http://ts3.mm.bing.net/th?id=OIP.Mf0ea1fd0a1675ba6c46daffd82bfd666H0&pid=15.1","ContentType":"image/jpg","Width":"300","Height":"221","FileSize":"6509"}},...],"__next":"https://api.datamarket.azure.com/Data.ashx/Bing/Search/Image?Query=\u0027kittens\u0027&$skip=50"}}
\end{minted}

\section{Random Quotes}

\begin{minted}{python}
  def getrandquote():
      # RANDOM QUOTES
      root_path = os.path.dirname(os.path.abspath(__file__))
      root_path = root_path[:-4]
      corpus_root = root_path + '/app/static/corpus'
      path_b = corpus_root + '/quotes.txt'
      quotes_text = codecs.open(path_b, "r", encoding='utf-8')
      quotestext = quotes_text.readlines()
      quotes_text.close()
      # print random.choice(quotestext)
      return random.choice(quotestext)
\end{minted}
